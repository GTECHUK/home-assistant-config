notify_camera_n:
  alias: Notifica Camera n
  sequence:
  - service: script.notify_camera
    data_template:
      entity_id: >
        {% if   camera_number | int == 1 %} camera.m5cameraf
        {% elif camera_number | int == 2 %} camera.hikam_s5
        {% elif camera_number | int == 3 %} camera.xiaovv_q8
        {% elif camera_number | int == 4 %} camera.m5cam
        {% endif %}

notify_camera:
  alias: Notifica Camera per entity_id
  sequence:
  - service: camera.snapshot
    data_template:
      entity_id: "{{ entity_id }}"
      filename: "/tmp/snapshot_{{ entity_id }}.jpg"
  - delay: "00:00:02"
  - service: notify.notify
    data_template:
      message: ""
      data:
        photo:
        - file: "/tmp/snapshot_{{ entity_id }}.jpg"
          caption: "{{ state_attr(entity_id,'friendly_name') }}"
          inline_keyboard: 'Toggle motion detection:/toggle_{{ entity_id }}_motion_detection'
